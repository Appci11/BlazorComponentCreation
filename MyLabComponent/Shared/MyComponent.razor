@if (loaded)
{
    if (ColNames.Count > 0)
    {
        <LabelsContainer Labels="Labels" Size="@Size" OnStatusUpdated="HandleStatusUpdated">
            @for (int i = 0; i < ColNames.Count; i++)
            {
                <LabelList ListStatus=@((EnumColumns)Enum.ToObject(typeof(EnumColumns), @i)) StultepioPav=@ColNames[@i] Size="@Size"/>
            }
        </LabelsContainer>
    }
}

@code {
    [Parameter] public EventCallback<int> OnLabelPositionChanged { get; set; }
    [Parameter] public List<String> ColNames { get; set; }
    [Parameter] public List<List<String>> StringValues { get; set; }
    [Parameter] public string Size { get; set; } = "big";

    bool loaded = false;
    int colIndex = 0;

    List<LabelModel> Labels = new List<LabelModel>();

    protected override void OnInitialized()
    {
        int id = 1;
        for (int i = 0; i < ColNames.Count; i++)
        {
            foreach (var item in StringValues[i])
            {
                Labels.Add(new LabelModel { Id = id++, Description = item, Column = (EnumColumns)i, ColNr = i });
            }
        }
        loaded = true;
    }

    async void HandleStatusUpdated(LabelModel item)
    {
        int buvo = item.ColNr;
        int yra = (int)item.Column;
        if (buvo != yra)
        {
            StringValues[yra].Add(item.Description);
            StringValues[buvo].Remove(item.Description);
        }
        await OnLabelPositionChanged.InvokeAsync();
        StateHasChanged();
    }
}